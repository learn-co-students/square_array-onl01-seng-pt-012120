array = [1, 2, 3]
effects = array.each { |x| # create record from x }
added = array.map{ |x| x + 2 }
